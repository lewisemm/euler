const exampleGraph = {
  '3': ['7', '4'],
  '7': ['2', '4.0'],
  '4': ['4.0', '6'],
  '6': ['9', '3.0'],
  '2': ['8', '5'],
  '4.0': ['5', '9']
}

const graph = {
  '75': ['95', '64'],
  '95': ['17', '47'],
  '64': ['47', '82'],
  '17': ['18', '35'],
  '47': ['35', '87'],
  '82': ['87', '10'],
  '18': ['20', '04'],
  '35': ['04', '82.0'],
  '87': ['82.0', '47.0'],
  '10': ['47.0', '65'],
  '20': ['19', '01'],
  '04': ['01', '23'],
  '82.0': ['23', '75.0'],
  '47.0': ['75.0', '03'],
  '65': ['03', '34'],
  '19': ['88', '02'],
  '01': ['02', '77'],
  '23': ['77', '73'],
  '75.0': ['73', '07'],
  '03': ['07', '63'],
  '34': ['63', '67'],
  '88': ['99', '65.0'],
  '02': ['65.0', '4.0'],
  '77': ['4.0', '28'],
  '73': ['28', '06'],
  '07': ['06', '16'],
  '63': ['16', '70'],
  '67': ['70', '92'],
  '99': ['41', '41.0'],
  '65.0': ['41.0', '26'],
  '4.0': ['26', '56'],
  '28': ['56', '83'],
  '06': ['83', '40'],
  '16': ['40', '80'],
  '70': ['80', '70.0'],
  '92': ['70.0', '33'],
  '41': ['41.00', '48'],
  '41.0': ['48', '72'],
  '26': ['72', '33.0'],
  '56': ['33.0', '47.00'],
  '83': ['47.00', '32'],
  '40': ['32', '37'],
  '80': ['37', '16.0'],
  '70.0': ['16.0', '94'],
  '33': ['94', '29'],
  '41.00': ['53', '71'],
  '48': ['71', '44'],
  '72': ['44', '65.00'],
  '33.0': ['65.00', '25'],
  '47.00': ['25', '43'],
  '32': ['43', '91'],
  '37': ['91', '52'],
  '16.0': ['52', '97'],
  '94': ['97', '51'],
  '29': ['51', '14'],
  '53': ['70.00', '11'],
  '71': ['11', '33.00'],
  '44': ['33.00', '28.0'],
  '65.00': ['28.0', '77.0'],
  '25': ['77.0', '73.0'],
  '43': ['73.0', '17.0'],
  '91': ['17.0', '78'],
  '52': ['78', '39'],
  '97': ['39', '68'],
  '51': ['68', '17.00'],
  '14': ['17.00', '57'],
  '70.00': ['91.0', '71.0'],
  '11': ['71.0', '52.00'],
  '33.00': ['52.00', '38'],
  '28.0': ['38', '17.000'],
  '77.0': ['17.000', '14.0'],
  '73.0': ['14.0', '91.00'],
  '17.0': ['91.00', '43.0'],
  '78': ['43.0', '58'],
  '39': ['58', '50'],
  '68': ['50', '27'],
  '17.00': ['27', '29.0'],
  '57': ['29.0', '48.0'],
  '91.0': ['63.0', '66'],
  '71.0': ['66', '4.00'],
  '52.00': ['4.00', '68.0'],
  '38': ['68.0', '89'],
  '17.000': ['89', '53.0'],
  '14.0': ['53.0', '67.0'],
  '91.00': ['67.0', '30'],
  '43.0': ['30', '73.00'],
  '58': ['73.00', '16.00'],
  '50': ['16.00', '69'],
  '27': ['69', '87.0'],
  '29.0': ['87.0', '40.0'],
  '48.0': ['40.0', '31'],
  '63.0': ['4.000', '62'],
  '66': ['62', '98'],
  '4.00': ['98', '27.0'],
  '68.0': ['27.0', '23.0'],
  '89.0': ['23.0', '09'],
  '53.0': ['09', '70.000'],
  '67.0': ['70.000', '98.0'],
  '30': ['98.0', '73.000'],
  '73.00': ['73.000', '93'],
  '16.00': ['93', '38.0'],
  '69': ['38.0', '53.00'],
  '87.0': ['53.00', '60'],
  '40.0': ['60', '4.0000'],
  '31': ['4.0000', '23.00']
}

function sumArray(arr) {
  let sum = 0
  for (no of arr) {
    sum += parseFloat(no)
  }
  return sum
}

function dft(graph, start, max, largest, stack=[]) {
  stack.push(start)
  let current = stack[stack.length - 1]
  if (typeof(graph[current]) === 'undefined') {
    let sum = sumArray(stack)
    if (max < sum) {
      max = sum
      largest = stack.slice()
    }
    return { stack, max, largest }
  }
  let result = null
  for (node of graph[current]) {
    result = dft(graph, node, max, largest, stack)
    stack = result.stack
    stack.pop()
    max = result.max
    largest = result.largest
  }
  return { stack, max, largest }
}

function problem18(start) {
  const result = dft(graph, start, 0, null)
  return result.max
}

const startTime = Date.now()
const number = problem18('75')
const endTime = Date.now()
console.log('number: ', number)
const runningTime = endTime - startTime
console.log(`Running time (s): ${runningTime / 1000}`)
